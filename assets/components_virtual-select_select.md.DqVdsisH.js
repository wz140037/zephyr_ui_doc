import{_ as ms,u as me,b as De,C as Ys,U as Xs,q as xi,x as Js,y as zs,s as Qe,w as Ls,r as Q,v as et,A as st,z as it,a4 as tt,p as Se,a5 as at,a6 as _s,Y as nt,a7 as xs,a8 as Ce,a9 as lt,aa as ot,i as rt,k as ei,l as ht,o as si,E as ii,g as ye,e as pt,f as dt,h as ct,n as $s,V as ut,j as kt,m as Et,d as we,a as Re,D as gt,F as ti,G as ft,H as yt,c as mt,I as vt}from"./chunks/index.BSMhXNCI.js";import{d as ve,c as X,o as R,t as de,N as Le,n as M,r as pe,j as P,Z as he,L as ai,ak as ni,h as f,p as T,ao as Je,k as b,q as Ee,Y as Ft,ae as be,H as $e,F as _e,ar as Ps,K as ds,v as li,z as bt,aL as St,P as oe,aM as Ct,G as te,ai as Pe,aj as wt,ag as Fe,aq as Ye,s as qs,C as ze,as as It,al as hs,w as Z,aN as Ot,at as Bt,aO as Dt,e as ue,b as fe,B as cs,a as Hs,X as Ne,au as At,am as Vt,an as Ws,V as Tt,aw as Mt,_ as Rt,af as Ks}from"./chunks/framework.CKJLQNY5.js";import{a as Nt,d as zt,c as ss,u as Lt,e as $t,M as Pt,f as qt,b as Ht,B as Wt}from"./chunks/strings.B0-jEQxM.js";import{m as Kt}from"./chunks/typescript.Bp3YSIOJ.js";import{u as Gt,a as Ut}from"./chunks/index.CIyzvGU5.js";const jt=ve({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:me("select")}}});function Zt(e,i,t,n,r,h){return R(),X("div",{class:M(e.ns.be("group","title")),style:Le({...e.style,lineHeight:`${e.height}px`})},de(e.item.label),7)}var Qt=ms(jt,[["render",Zt],["__file","group-item.vue"]]);function Yt(e,{emit:i}){return{hoverItem:()=>{e.disabled||i("hover",e.index)},selectOptionClick:()=>{e.disabled||i("select",e.item,e.index)}}}const Xt=De({allowCreate:Boolean,autocomplete:{type:Q(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:zs,default:it},effect:{type:Q(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:{type:Q(Function)},height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:Q([Array,String,Number,Boolean,Object]),default:void 0},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:{type:Q(Function)},reserveKeyword:{type:Boolean,default:!0},options:{type:Q(Array),required:!0},placeholder:{type:String},teleported:Qe.teleported,persistent:{type:Boolean,default:!0},popperClass:Qe.popperClass,popperStyle:Qe.popperStyle,popperOptions:{type:Q(Object),default:()=>({})},remote:Boolean,size:st,props:{type:Q(Object),default:()=>zt},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:Q(String),values:et,default:"bottom-start"},fallbackPlacements:{type:Q(Array),default:["bottom-start","top-start","right","left"]},tagType:{...Ls.type,default:"info"},tagEffect:{...Ls.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:Qe.appendTo,fitInputWidth:{type:[Boolean,Number],default:!0,validator(e){return tt(e)||Se(e)}},suffixIcon:{type:zs,default:Js},...Nt,...xi(["ariaLabel"])}),Jt=De({data:Array,disabled:Boolean,hovering:Boolean,item:{type:Q(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),_t={[Xs]:e=>!0,[Ys]:e=>!0,"remove-tag":e=>!0,"visible-change":e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0},xt={hover:e=>Se(e),select:(e,i)=>!0},vs=Symbol("ElSelectV2Injection"),ea=ve({props:Jt,emits:xt,setup(e,{emit:i}){const t=ai(vs),n=me("select"),{hoverItem:r,selectOptionClick:h}=Yt(e,{emit:i}),{getLabel:p}=ss(t.props),E=t.contentId;return{ns:n,contentId:E,hoverItem:r,selectOptionClick:h,getLabel:p}}});function sa(e,i,t,n,r,h){return R(),X("li",{id:`${e.contentId}-${e.index}`,role:"option","aria-selected":e.selected,"aria-disabled":e.disabled||void 0,style:Le(e.style),class:M([e.ns.be("dropdown","item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),e.ns.is("hovering",e.hovering)]),onMousemove:e.hoverItem,onClick:he(e.selectOptionClick,["stop"])},[pe(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[P("span",null,de(e.getLabel(e.item)),1)])],46,["id","aria-selected","aria-disabled","onMousemove","onClick"])}var ia=ms(ea,[["render",sa],["__file","option-item.vue"]]),Gs=Number.isNaN||function(i){return typeof i=="number"&&i!==i};function ta(e,i){return!!(e===i||Gs(e)&&Gs(i))}function aa(e,i){if(e.length!==i.length)return!1;for(var t=0;t<e.length;t++)if(!ta(e[t],i[t]))return!1;return!0}function na(e,i){i===void 0&&(i=aa);var t=null;function n(){for(var r=[],h=0;h<arguments.length;h++)r[h]=arguments[h];if(t&&t.lastThis===this&&i(r,t.lastArgs))return t.lastResult;var p=e.apply(this,r);return t={lastResult:p,lastArgs:r,lastThis:this},p}return n.clear=function(){t=null},n}const la=()=>{const i=ni().proxy.$props;return f(()=>{const t=(n,r,h)=>({});return i.perfMode?at(t):na(t)})},oa=50,Us="itemRendered",js="scroll",oi="forward",ri="backward",qe="auto",hi="smart",pi="start",xe="center",di="end",Be="horizontal",Fs="vertical",ra="ltr",Xe="rtl",us="negative",ci="positive-ascending",ui="positive-descending",ha={[Be]:"left",[Fs]:"top"},pa=20,da={[Be]:"deltaX",[Fs]:"deltaY"},ca=({atEndEdge:e,atStartEdge:i,layout:t},n)=>{let r,h=0;const p=k=>k<0&&i.value||k>0&&e.value;return{hasReachedEdge:p,onWheel:k=>{_s(r);const c=k[da[t.value]];p(h)&&p(h+c)||(h+=c,nt()||k.preventDefault(),r=xs(()=>{n(h),h=0}))}}},ks=Ce({type:Q([Number,Function]),required:!0}),Es=Ce({type:Number}),gs=Ce({type:Number,default:2}),ua=Ce({type:String,values:["ltr","rtl"],default:"ltr"}),fs=Ce({type:Number,default:0}),es=Ce({type:Number,required:!0}),ki=Ce({type:String,values:["horizontal","vertical"],default:Fs}),Ei=De({className:{type:String,default:""},containerElement:{type:Q([String,Object]),default:"div"},data:{type:Q(Array),default:()=>Kt([])},direction:ua,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},innerProps:{type:Q(Object),default:()=>({})},style:{type:Q([Object,String,Array])},useIsScrolling:Boolean,width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),ka=De({cache:gs,estimatedItemSize:Es,layout:ki,initScrollOffset:fs,total:es,itemSize:ks,...Ei}),ys={type:Number,default:6},gi={type:Number,default:0},fi={type:Number,default:2};De({columnCache:gs,columnWidth:ks,estimatedColumnWidth:Es,estimatedRowHeight:Es,initScrollLeft:fs,initScrollTop:fs,itemKey:{type:Q(Function),default:({columnIndex:e,rowIndex:i})=>`${i}:${e}`},rowCache:gs,rowHeight:ks,totalColumn:es,totalRow:es,hScrollbarSize:ys,vScrollbarSize:ys,scrollbarStartGap:gi,scrollbarEndGap:fi,role:String,...Ei});const Ea=De({alwaysOn:Boolean,class:String,layout:ki,total:es,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:ys,startGap:gi,endGap:fi,visible:Boolean}),ps=(e,i)=>e<i?oi:ri,He=e=>e===ra||e===Xe||e===Be;let Ie=null;function Zs(e=!1){if(Ie===null||e){const i=document.createElement("div"),t=i.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const n=document.createElement("div"),r=n.style;return r.width="100px",r.height="100px",i.appendChild(n),document.body.appendChild(i),i.scrollLeft>0?Ie=ui:(i.scrollLeft=1,i.scrollLeft===0?Ie=us:Ie=ci),document.body.removeChild(i),Ie}return Ie}function ga({move:e,size:i,bar:t},n){const r={},h=`translate${t.axis}(${e}px)`;return r[t.size]=i,r.transform=h,n==="horizontal"?r.height="100%":r.width="100%",r}const fa=ve({name:"ElVirtualScrollBar",props:Ea,emits:["scroll","start-move","stop-move"],setup(e,{emit:i}){const t=f(()=>e.startGap+e.endGap),n=me("virtual-scrollbar"),r=me("scrollbar"),h=T(),p=T();let E=null,k=null;const c=Je({isDragging:!1,traveled:0}),l=f(()=>lt[e.layout]),g=f(()=>e.clientSize-b(t)),w=f(()=>({position:"absolute",width:`${Be===e.layout?g.value:e.scrollbarSize}px`,height:`${Be===e.layout?e.scrollbarSize:g.value}px`,[ha[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),y=f(()=>{const F=e.ratio;if(F>=100)return Number.POSITIVE_INFINITY;if(F>=50)return F*g.value/100;const H=g.value/3;return Math.floor(Math.min(Math.max(F*g.value/100,pa),H))}),D=f(()=>{if(!Number.isFinite(y.value))return{display:"none"};const F=`${y.value}px`;return ga({bar:l.value,size:F,move:c.traveled},e.layout)}),a=f(()=>Math.ceil(e.clientSize-y.value-b(t))),J=()=>{window.addEventListener("mousemove",O),window.addEventListener("mouseup",_);const F=b(p);F&&(k=document.onselectstart,document.onselectstart=()=>!1,F.addEventListener("touchmove",O,{passive:!0}),F.addEventListener("touchend",_))},q=()=>{window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",_),document.onselectstart=k,k=null;const F=b(p);F&&(F.removeEventListener("touchmove",O),F.removeEventListener("touchend",_))},ae=F=>{F.stopImmediatePropagation(),!(F.ctrlKey||[1,2].includes(F.button))&&(c.isDragging=!0,c[l.value.axis]=F.currentTarget[l.value.offset]-(F[l.value.client]-F.currentTarget.getBoundingClientRect()[l.value.direction]),i("start-move"),J())},_=()=>{c.isDragging=!1,c[l.value.axis]=0,i("stop-move"),q()},O=F=>{const{isDragging:H}=c;if(!H||!p.value||!h.value)return;const U=c[l.value.axis];if(!U)return;_s(E);const Y=(h.value.getBoundingClientRect()[l.value.direction]-F[l.value.client])*-1,ee=p.value[l.value.offset]-U,v=Y-ee;E=xs(()=>{c.traveled=Math.max(0,Math.min(v,a.value)),i("scroll",v,a.value)})},x=F=>{const H=Math.abs(F.target.getBoundingClientRect()[l.value.direction]-F[l.value.client]),U=p.value[l.value.offset]/2,Y=H-U;c.traveled=Math.max(0,Math.min(Y,a.value)),i("scroll",Y,a.value)};return Ee(()=>e.scrollFrom,F=>{c.isDragging||(c.traveled=Math.ceil(F*a.value))}),Ft(()=>{q()}),()=>be("div",{role:"presentation",ref:h,class:[n.b(),e.class,(e.alwaysOn||c.isDragging)&&"always-on"],style:w.value,onMousedown:he(x,["stop","prevent"]),onTouchstartPrevent:ae},be("div",{ref:p,class:r.e("thumb"),style:D.value,onMousedown:ae},[]))}}),yi=({name:e,getOffset:i,getItemSize:t,getItemOffset:n,getEstimatedTotalSize:r,getStartIndexForOffset:h,getStopIndexForStartIndex:p,initCache:E,clearCache:k,validateProps:c})=>ve({name:e??"ElVirtualList",props:ka,emits:[Us,js],setup(l,{emit:g,expose:w}){c(l);const y=ni(),D=me("vl"),a=T(E(l,y)),J=la(),q=T(),ae=T(),_=T(),O=T({isScrolling:!1,scrollDir:"forward",scrollOffset:Se(l.initScrollOffset)?l.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:l.scrollbarAlwaysOn}),x=f(()=>{const{total:m,cache:B}=l,{isScrolling:I,scrollDir:W,scrollOffset:V}=b(O);if(m===0)return[0,0,0,0];const G=h(l,V,b(a)),$=p(l,G,V,b(a)),ge=!I||W===ri?Math.max(1,B):1,ke=!I||W===oi?Math.max(1,B):1;return[Math.max(0,G-ge),Math.max(0,Math.min(m-1,$+ke)),G,$]}),F=f(()=>r(l,b(a))),H=f(()=>He(l.layout)),U=f(()=>[{position:"relative",[`overflow-${H.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:l.direction,height:Se(l.height)?`${l.height}px`:l.height,width:Se(l.width)?`${l.width}px`:l.width},l.style]),Y=f(()=>{const m=b(F),B=b(H);return{height:B?"100%":`${m}px`,pointerEvents:b(O).isScrolling?"none":void 0,width:B?`${m}px`:"100%"}}),ee=f(()=>H.value?l.width:l.height),{onWheel:v}=ca({atStartEdge:f(()=>O.value.scrollOffset<=0),atEndEdge:f(()=>O.value.scrollOffset>=F.value),layout:f(()=>l.layout)},m=>{var B,I;(I=(B=_.value).onMouseUp)==null||I.call(B),L(Math.min(O.value.scrollOffset+m,F.value-ee.value))});ot(q,"wheel",v,{passive:!1});const C=()=>{const{total:m}=l;if(m>0){const[V,G,$,ge]=b(x);g(Us,V,G,$,ge)}const{scrollDir:B,scrollOffset:I,updateRequested:W}=b(O);g(js,B,I,W)},z=m=>{const{clientHeight:B,scrollHeight:I,scrollTop:W}=m.currentTarget,V=b(O);if(V.scrollOffset===W)return;const G=Math.max(0,Math.min(W,I-B));O.value={...V,isScrolling:!0,scrollDir:ps(V.scrollOffset,G),scrollOffset:G,updateRequested:!1},oe(ne)},j=m=>{const{clientWidth:B,scrollLeft:I,scrollWidth:W}=m.currentTarget,V=b(O);if(V.scrollOffset===I)return;const{direction:G}=l;let $=I;if(G===Xe)switch(Zs()){case us:{$=-I;break}case ui:{$=W-B-I;break}}$=Math.max(0,Math.min($,W-B)),O.value={...V,isScrolling:!0,scrollDir:ps(V.scrollOffset,$),scrollOffset:$,updateRequested:!1},oe(ne)},N=m=>{b(H)?j(m):z(m),C()},se=(m,B)=>{const I=(F.value-ee.value)/B*m;L(Math.min(F.value-ee.value,I))},L=m=>{m=Math.max(m,0),m!==b(O).scrollOffset&&(O.value={...b(O),scrollOffset:m,scrollDir:ps(b(O).scrollOffset,m),updateRequested:!0},oe(ne))},ie=(m,B=qe)=>{const{scrollOffset:I}=b(O);m=Math.max(0,Math.min(m,l.total-1)),L(i(l,m,B,I,b(a)))},ce=m=>{const{direction:B,itemSize:I,layout:W}=l,V=J.value(k&&I,k&&W,k&&B);let G;if(Ct(V,String(m)))G=V[m];else{const $=n(l,m,b(a)),ge=t(l,m,b(a)),ke=b(H),Ae=B===Xe,We=ke?$:0;V[m]=G={position:"absolute",left:Ae?void 0:`${We}px`,right:Ae?`${We}px`:void 0,top:ke?0:`${$}px`,height:ke?"100%":`${ge}px`,width:ke?`${ge}px`:"100%"}}return G},ne=()=>{O.value.isScrolling=!1,oe(()=>{J.value(-1,null,null)})},S=()=>{const m=q.value;m&&(m.scrollTop=0)};li(()=>{if(!rt)return;const{initScrollOffset:m}=l,B=b(q);Se(m)&&B&&(b(H)?B.scrollLeft=m:B.scrollTop=m),C()}),bt(()=>{const{direction:m,layout:B}=l,{scrollOffset:I,updateRequested:W}=b(O),V=b(q);if(W&&V)if(B===Be)if(m===Xe)switch(Zs()){case us:{V.scrollLeft=-I;break}case ci:{V.scrollLeft=I;break}default:{const{clientWidth:G,scrollWidth:$}=V;V.scrollLeft=$-G-I;break}}else V.scrollLeft=I;else V.scrollTop=I}),St(()=>{b(q).scrollTop=b(O).scrollOffset});const A={ns:D,clientSize:ee,estimatedTotalSize:F,windowStyle:U,windowRef:q,innerRef:ae,innerStyle:Y,itemsToRender:x,scrollbarRef:_,states:O,getItemStyle:ce,onScroll:N,onScrollbarScroll:se,onWheel:v,scrollTo:L,scrollToItem:ie,resetScrollTop:S};return w({windowRef:q,innerRef:ae,getItemStyleCache:J,scrollTo:L,scrollToItem:ie,resetScrollTop:S,states:O}),A},render(l){var g;const{$slots:w,className:y,clientSize:D,containerElement:a,data:J,getItemStyle:q,innerElement:ae,itemsToRender:_,innerStyle:O,layout:x,total:F,onScroll:H,onScrollbarScroll:U,states:Y,useIsScrolling:ee,windowStyle:v,ns:C}=l,[z,j]=_,N=$e(a),se=$e(ae),L=[];if(F>0)for(let S=z;S<=j;S++)L.push(be(_e,{key:S},(g=w.default)==null?void 0:g.call(w,{data:J,index:S,isScrolling:ee?Y.isScrolling:void 0,style:q(S)})));const ie=[be(se,ds(l.innerProps,{style:O,ref:"innerRef"}),Ps(se)?L:{default:()=>L})],ce=be(fa,{ref:"scrollbarRef",clientSize:D,layout:x,onScroll:U,ratio:D*100/this.estimatedTotalSize,scrollFrom:Y.scrollOffset/(this.estimatedTotalSize-D),total:F,alwaysOn:Y.scrollbarAlwaysOn}),ne=be(N,{class:[C.e("window"),y],style:v,onScroll:H,ref:"windowRef",key:0},Ps(N)?[ie]:{default:()=>[ie]});return be("div",{key:0,class:[C.e("wrapper"),Y.scrollbarAlwaysOn?"always-on":""]},[ne,ce])}}),ya=yi({name:"ElFixedSizeList",getItemOffset:({itemSize:e},i)=>i*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:i})=>i*e,getOffset:({height:e,total:i,itemSize:t,layout:n,width:r},h,p,E)=>{const k=He(n)?r:e,c=Math.max(0,i*t-k),l=Math.min(c,h*t),g=Math.max(0,(h+1)*t-k);switch(p===hi&&(E>=g-k&&E<=l+k?p=qe:p=xe),p){case pi:return l;case di:return g;case xe:{const w=Math.round(g+(l-g)/2);return w<Math.ceil(k/2)?0:w>c+Math.floor(k/2)?c:w}case qe:default:return E>=g&&E<=l?E:E<g?g:l}},getStartIndexForOffset:({total:e,itemSize:i},t)=>Math.max(0,Math.min(e-1,Math.floor(t/i))),getStopIndexForStartIndex:({height:e,total:i,itemSize:t,layout:n,width:r},h,p)=>{const E=h*t,k=He(n)?r:e,c=Math.ceil((k+p-E)/t);return Math.max(0,Math.min(i-1,h+c-1))},initCache(){},clearCache:!0,validateProps(){}}),Oe=(e,i,t)=>{const{itemSize:n}=e,{items:r,lastVisitedIndex:h}=t;if(i>h){let p=0;if(h>=0){const E=r[h];p=E.offset+E.size}for(let E=h+1;E<=i;E++){const k=n(E);r[E]={offset:p,size:k},p+=k}t.lastVisitedIndex=i}return r[i]},ma=(e,i,t)=>{const{items:n,lastVisitedIndex:r}=i;return(r>0?n[r].offset:0)>=t?mi(e,i,0,r,t):va(e,i,Math.max(0,r),t)},mi=(e,i,t,n,r)=>{for(;t<=n;){const h=t+Math.floor((n-t)/2),p=Oe(e,h,i).offset;if(p===r)return h;p<r?t=h+1:p>r&&(n=h-1)}return Math.max(0,t-1)},va=(e,i,t,n)=>{const{total:r}=e;let h=1;for(;t<r&&Oe(e,t,i).offset<n;)t+=h,h*=2;return mi(e,i,Math.floor(t/2),Math.min(t,r-1),n)},Qs=({total:e},{items:i,estimatedItemSize:t,lastVisitedIndex:n})=>{let r=0;if(n>=e&&(n=e-1),n>=0){const E=i[n];r=E.offset+E.size}const p=(e-n-1)*t;return r+p},Fa=yi({name:"ElDynamicSizeList",getItemOffset:(e,i,t)=>Oe(e,i,t).offset,getItemSize:(e,i,{items:t})=>t[i].size,getEstimatedTotalSize:Qs,getOffset:(e,i,t,n,r)=>{const{height:h,layout:p,width:E}=e,k=He(p)?E:h,c=Oe(e,i,r),l=Qs(e,r),g=Math.max(0,Math.min(l-k,c.offset)),w=Math.max(0,c.offset-k+c.size);switch(t===hi&&(n>=w-k&&n<=g+k?t=qe:t=xe),t){case pi:return g;case di:return w;case xe:return Math.round(w+(g-w)/2);case qe:default:return n>=w&&n<=g?n:n<w?w:g}},getStartIndexForOffset:(e,i,t)=>ma(e,t,i),getStopIndexForStartIndex:(e,i,t,n)=>{const{height:r,total:h,layout:p,width:E}=e,k=He(p)?E:r,c=Oe(e,i,n),l=t+k;let g=c.offset+c.size,w=i;for(;w<h-1&&g<l;)w++,g+=Oe(e,w,n).size;return w},initCache({estimatedItemSize:e=oa},i){const t={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return t.clearCacheAfterIndex=(n,r=!0)=>{var h,p;t.lastVisitedIndex=Math.min(t.lastVisitedIndex,n-1),(h=i.exposed)==null||h.getItemStyleCache(-1),r&&((p=i.proxy)==null||p.$forceUpdate())},t},clearCache:!1,validateProps:({itemSize:e})=>{}}),ba={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number,id:String,ariaLabel:String};var Sa=ve({name:"ElSelectDropdown",props:ba,setup(e,{slots:i,expose:t}){const n=ai(vs),r=me("select"),{getLabel:h,getValue:p,getDisabled:E}=ss(n.props),k=T([]),c=T(),l=f(()=>e.data.length);Ee(()=>l.value,()=>{var v,C;(C=(v=n.tooltipRef.value)==null?void 0:v.updatePopper)==null||C.call(v)});const g=f(()=>ei(n.props.estimatedOptionHeight)),w=f(()=>g.value?{itemSize:n.props.itemHeight}:{estimatedSize:n.props.estimatedOptionHeight,itemSize:v=>k.value[v]}),y=(v=[],C)=>{const{props:{valueKey:z}}=n;return Pe(C)?v&&v.some(j=>wt(ye(j,z))===ye(C,z)):v.includes(C)},D=(v,C)=>{if(Pe(C)){const{valueKey:z}=n.props;return ye(v,z)===ye(C,z)}else return v===C},a=(v,C)=>n.props.multiple?y(v,p(C)):D(v,p(C)),J=(v,C)=>{const{disabled:z,multiple:j,multipleLimit:N}=n.props;return z||!C&&(j?N>0&&v.length>=N:!1)},q=v=>e.hoveringIndex===v;t({listRef:c,isSized:g,isItemDisabled:J,isItemHovering:q,isItemSelected:a,scrollToItem:v=>{const C=c.value;C&&C.scrollToItem(v)},resetScrollTop:()=>{const v=c.value;v&&v.resetScrollTop()}});const x=v=>{const{index:C,data:z,style:j}=v,N=b(g),{itemSize:se,estimatedSize:L}=b(w),{modelValue:ie}=n.props,{onSelect:ce,onHover:ne}=n,S=z[C];if(S.type==="Group")return te(Qt,{item:S,style:j,height:N?se:L},null);const A=a(ie,S),m=J(ie,A),B=q(C);return te(ia,ds(v,{selected:A,disabled:E(S)||m,created:!!S.created,hovering:B,item:S,onSelect:ce,onHover:ne}),{default:I=>{var W;return((W=i.default)==null?void 0:W.call(i,I))||te("span",null,[h(S)])}})},{onKeyboardNavigate:F,onKeyboardSelect:H}=n,U=()=>{F("forward")},Y=()=>{F("backward")},ee=v=>{const C=si(v),{tab:z,esc:j,down:N,up:se,enter:L,numpadEnter:ie}=ii;switch([j,N,se,L,ie].includes(C)&&(v.preventDefault(),v.stopPropagation()),C){case z:case j:break;case N:U();break;case se:Y();break;case L:case ie:H();break}};return()=>{var v,C,z,j;const{data:N,width:se}=e,{height:L,multiple:ie,scrollbarAlwaysOn:ce}=n.props,ne=f(()=>ht?!0:ce),S=b(g)?ya:Fa;return te("div",{class:[r.b("dropdown"),r.is("multiple",ie)],style:{width:`${se}px`}},[(v=i.header)==null?void 0:v.call(i),((C=i.loading)==null?void 0:C.call(i))||((z=i.empty)==null?void 0:z.call(i))||te(S,ds({ref:c},b(w),{className:r.be("dropdown","list"),scrollbarAlwaysOn:ne.value,data:N,height:L,width:se,total:N.length,innerElement:"ul",innerProps:{id:e.id,role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},onKeydown:ee}),{default:A=>te(x,A,null)}),(j=i.footer)==null?void 0:j.call(i)])}}});function Ca(e,i){const{aliasProps:t,getLabel:n,getValue:r}=ss(e),h=T(0),p=T(),E=f(()=>e.allowCreate&&e.filterable);Ee(()=>e.options,y=>{const D=new Set(y.map(a=>n(a)));i.createdOptions=i.createdOptions.filter(a=>!D.has(n(a)))});function k(y){const D=a=>n(a)===y;return e.options&&e.options.some(D)||i.createdOptions.some(D)}function c(y){E.value&&(e.multiple&&y.created?h.value++:p.value=y)}function l(y){if(E.value)if(y&&y.length>0){if(k(y)){i.createdOptions=i.createdOptions.filter(a=>n(a)!==i.previousQuery);return}const D={[t.value.value]:y,[t.value.label]:y,created:!0,[t.value.disabled]:!1};i.createdOptions.length>=h.value?i.createdOptions[h.value]=D:i.createdOptions.push(D)}else if(e.multiple)i.createdOptions.length=h.value;else{const D=p.value;i.createdOptions.length=0,D&&D.created&&i.createdOptions.push(D)}}function g(y){if(!E.value||!y||!y.created||y.created&&e.reserveKeyword&&i.inputValue===n(y))return;const D=i.createdOptions.findIndex(a=>r(a)===r(y));~D&&(i.createdOptions.splice(D,1),h.value--)}function w(){E.value&&(i.createdOptions.length=0,h.value=0)}return{createNewOption:l,removeNewOption:g,selectNewOption:c,clearAllNewOption:w}}const wa=(e,i)=>{const{t}=pt(),n=me("select"),r=me("input"),{form:h,formItem:p}=dt(),{inputId:E}=ct(e,{formItemContext:p}),{aliasProps:k,getLabel:c,getValue:l,getDisabled:g,getOptions:w}=ss(e),{valueOnClear:y,isEmptyValue:D}=Lt(e),a=Je({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),J=T(-1),q=T(),ae=T(),_=T(),O=T(),x=T(),F=T(),H=T(),U=T(),Y=T(),ee=T(),{isComposing:v,handleCompositionStart:C,handleCompositionEnd:z,handleCompositionUpdate:j}=Gt({afterComposition:s=>Rs(s)}),N=f(()=>e.disabled||!!(h!=null&&h.disabled)),{wrapperRef:se,isFocused:L,handleBlur:ie}=Ut(x,{disabled:N,afterFocus(){e.automaticDropdown&&!A.value&&(A.value=!0,a.menuVisibleOnFocus=!0)},beforeBlur(s){var o,d;return((o=_.value)==null?void 0:o.isFocusInsideContent(s))||((d=O.value)==null?void 0:d.isFocusInsideContent(s))},afterBlur(){var s;A.value=!1,a.menuVisibleOnFocus=!1,e.validateEvent&&((s=p==null?void 0:p.validate)==null||s.call(p,"blur").catch(o=>$s()))}}),ce=f(()=>bs("")),ne=f(()=>e.loading?!1:e.options.length>0||a.createdOptions.length>0),S=T([]),A=T(!1),m=f(()=>{var s;return(s=h==null?void 0:h.statusIcon)!=null?s:!1}),B=f(()=>{const s=S.value.length*e.itemHeight;return s>e.height?e.height:s}),I=f(()=>e.multiple?Fe(e.modelValue)&&e.modelValue.length>0:!D(e.modelValue)),W=f(()=>e.clearable&&!N.value&&I.value&&(L.value||a.inputHovering)),V=f(()=>e.remote&&e.filterable?"":e.suffixIcon),G=f(()=>V.value&&n.is("reverse",A.value)),$=f(()=>(p==null?void 0:p.validateState)||""),ge=f(()=>{if($.value)return ut[$.value]}),ke=f(()=>e.remote?300:0),Ae=f(()=>e.loading?e.loadingText||t("el.select.loading"):e.remote&&!a.inputValue&&!ne.value?!1:e.filterable&&a.inputValue&&ne.value&&S.value.length===0?e.noMatchText||t("el.select.noMatch"):ne.value?null:e.noDataText||t("el.select.noData")),We=f(()=>e.filterable&&Ye(e.filterMethod)),vi=f(()=>e.filterable&&e.remote&&Ye(e.remoteMethod)),bs=s=>{const o=new RegExp($t(s),"i"),d=u=>We.value||vi.value?!0:s?o.test(c(u)||""):!0;return e.loading?[]:[...a.createdOptions,...e.options].reduce((u,K)=>{const re=w(K);if(Fe(re)){const Me=re.filter(d);Me.length>0&&u.push({label:c(K),type:"Group"},...Me)}else(e.remote||d(K))&&u.push(K);return u},[])},Ss=()=>{S.value=bs(a.inputValue)},Ke=f(()=>{const s=new Map;return ce.value.forEach((o,d)=>{s.set(le(l(o)),{option:o,index:d})}),s}),Ge=f(()=>{const s=new Map;return S.value.forEach((o,d)=>{s.set(le(l(o)),{option:o,index:d})}),s}),Fi=f(()=>S.value.every(s=>g(s))),Cs=kt(),bi=f(()=>Cs.value==="small"?"small":"default"),Ve=()=>{var s;if(Se(e.fitInputWidth)){J.value=e.fitInputWidth;return}const o=((s=q.value)==null?void 0:s.offsetWidth)||200;!e.fitInputWidth&&ne.value?oe(()=>{J.value=Math.max(o,Si())}):J.value=o},Si=()=>{var s,o;const u=document.createElement("canvas").getContext("2d"),K=n.be("dropdown","item"),Me=(((o=(s=U.value)==null?void 0:s.listRef)==null?void 0:o.innerRef)||document).querySelector(`.${K}`);if(Me===null||u===null)return 0;const Ze=getComputedStyle(Me),Yi=Number.parseFloat(Ze.paddingLeft)+Number.parseFloat(Ze.paddingRight);return u.font=`bold ${Ze.font.replace(new RegExp(`\\b${Ze.fontWeight}\\b`),"")}`,S.value.reduce((Xi,Ji)=>{const _i=u.measureText(c(Ji));return Math.max(_i.width,Xi)},0)+Yi},Ci=()=>{if(!ae.value)return 0;const s=window.getComputedStyle(ae.value);return Number.parseFloat(s.gap||"6px")},wi=f(()=>{const s=Ci(),o=e.filterable?s+Pt:0;return{maxWidth:`${ee.value&&e.maxCollapseTags===1?a.selectionWidth-a.collapseItemWidth-s-o:a.selectionWidth-o}px`}}),Ii=f(()=>({maxWidth:`${a.selectionWidth}px`})),Oi=f(()=>Fe(e.modelValue)?e.modelValue.length===0&&!a.inputValue:e.filterable?!a.inputValue:!0),Bi=f(()=>{var s;const o=(s=e.placeholder)!=null?s:t("el.select.placeholder");return e.multiple||!I.value?o:a.selectedLabel}),Di=f(()=>{var s,o;return(o=(s=_.value)==null?void 0:s.popperRef)==null?void 0:o.contentRef}),Ai=f(()=>{if(e.multiple){const s=e.modelValue.length;if(e.modelValue.length>0&&Ge.value.has(e.modelValue[s-1])){const{index:o}=Ge.value.get(e.modelValue[s-1]);return o}}else if(!D(e.modelValue)&&Ge.value.has(e.modelValue)){const{index:s}=Ge.value.get(e.modelValue);return s}return-1}),Vi=f({get(){return A.value&&Ae.value!==!1},set(s){A.value=s}}),Ti=f(()=>e.multiple?e.collapseTags?a.cachedOptions.slice(0,e.maxCollapseTags):a.cachedOptions:[]),Mi=f(()=>e.multiple?e.collapseTags?a.cachedOptions.slice(e.maxCollapseTags):[]:[]),{createNewOption:ws,removeNewOption:is,selectNewOption:Is,clearAllNewOption:ts}=Ca(e,a),as=()=>{N.value||(a.menuVisibleOnFocus?a.menuVisibleOnFocus=!1:A.value=!A.value)},Os=()=>{a.inputValue.length>0&&!A.value&&(A.value=!0),ws(a.inputValue),oe(()=>{ns(a.inputValue)})},Bs=Et(Os,ke.value),ns=s=>{a.previousQuery===s||v.value||(a.previousQuery=s,e.filterable&&Ye(e.filterMethod)?e.filterMethod(s):e.filterable&&e.remote&&Ye(e.remoteMethod)&&e.remoteMethod(s),e.defaultFirstOption&&(e.filterable||e.remote)&&S.value.length?oe(Ri):oe(Ui))},Ri=()=>{const s=S.value.filter(u=>!u.disabled&&u.type!=="Group"),o=s.find(u=>u.created),d=s[0];a.hoveringIndex=ls(S.value,o||d)},Ni=s=>{Re(e.modelValue,s)||i(Ys,s)},Te=s=>{i(Xs,s),Ni(s),a.previousValue=e.multiple?String(s):s,oe(()=>{if(e.multiple&&Fe(e.modelValue)){const o=a.cachedOptions.slice(),d=e.modelValue.map(u=>Ns(u,o));Re(a.cachedOptions,d)||(a.cachedOptions=d)}else je(!0)})},ls=(s=[],o)=>{if(!Pe(o))return s.indexOf(o);const d=e.valueKey;let u=-1;return s.some((K,re)=>ye(K,d)===ye(o,d)?(u=re,!0):!1),u},le=s=>Pe(s)?ye(s,e.valueKey):s,Ds=()=>{Ve()},As=()=>{a.selectionWidth=Number.parseFloat(window.getComputedStyle(ae.value).width)},zi=()=>{a.collapseItemWidth=ee.value.getBoundingClientRect().width},os=()=>{var s,o;(o=(s=_.value)==null?void 0:s.updatePopper)==null||o.call(s)},Vs=()=>{var s,o;(o=(s=O.value)==null?void 0:s.updatePopper)==null||o.call(s)},Ts=s=>{const o=l(s);if(e.multiple){let d=e.modelValue.slice();const u=ls(d,o);u>-1?(d=[...d.slice(0,u),...d.slice(u+1)],a.cachedOptions.splice(u,1),is(s)):(e.multipleLimit<=0||d.length<e.multipleLimit)&&(d=[...d,o],a.cachedOptions.push(s),Is(s)),Te(d),s.created&&ns(""),e.filterable&&!e.reserveKeyword&&(a.inputValue="")}else a.selectedLabel=c(s),!Re(e.modelValue,o)&&Te(o),A.value=!1,Is(s),s.created||ts();Ue()},Li=(s,o)=>{let d=e.modelValue.slice();const u=ls(d,l(o));u>-1&&!N.value&&(d=[...e.modelValue.slice(0,u),...e.modelValue.slice(u+1)],a.cachedOptions.splice(u,1),Te(d),i("remove-tag",l(o)),is(o)),s.stopPropagation(),Ue()},Ue=()=>{var s;(s=x.value)==null||s.focus()},$i=()=>{var s;if(A.value){A.value=!1,oe(()=>{var o;return(o=x.value)==null?void 0:o.blur()});return}(s=x.value)==null||s.blur()},Pi=()=>{a.inputValue.length>0?a.inputValue="":A.value=!1},qi=s=>qt(s,o=>!a.cachedOptions.some(d=>l(d)===o&&g(d))),Hi=s=>{const o=si(s);if(e.multiple&&o!==ii.delete&&a.inputValue.length===0){s.preventDefault();const d=e.modelValue.slice(),u=qi(d);if(u<0)return;const K=d[u];d.splice(u,1);const re=a.cachedOptions[u];a.cachedOptions.splice(u,1),is(re),Te(d),i("remove-tag",K)}},Wi=()=>{let s;Fe(e.modelValue)?s=[]:s=y.value,a.selectedLabel="",A.value=!1,Te(s),i("clear"),ts(),Ue()},Ms=(s,o=void 0)=>{const d=S.value;if(!["forward","backward"].includes(s)||N.value||d.length<=0||Fi.value||v.value)return;if(!A.value)return as();ei(o)&&(o=a.hoveringIndex);let u=-1;s==="forward"?(u=o+1,u>=d.length&&(u=0)):s==="backward"&&(u=o-1,(u<0||u>=d.length)&&(u=d.length-1));const K=d[u];if(g(K)||K.type==="Group")return Ms(s,u);a.hoveringIndex=u,rs(u)},Ki=()=>{if(A.value)~a.hoveringIndex&&S.value[a.hoveringIndex]&&Ts(S.value[a.hoveringIndex]);else return as()},Gi=s=>{a.hoveringIndex=s??-1},Ui=()=>{e.multiple?a.hoveringIndex=S.value.findIndex(s=>e.modelValue.some(o=>le(o)===le(l(s)))):a.hoveringIndex=S.value.findIndex(s=>le(l(s))===le(e.modelValue))},Rs=s=>{if(a.inputValue=s.target.value,e.remote)Bs();else return Os()},ji=s=>{if(A.value=!1,L.value){const o=new FocusEvent("blur",s);ie(o)}},Zi=()=>(a.isBeforeHide=!1,oe(()=>{~Ai.value&&rs(a.hoveringIndex)})),rs=s=>{U.value.scrollToItem(s)},Ns=(s,o)=>{const d=le(s);if(Ke.value.has(d)){const{option:u}=Ke.value.get(d);return u}if(o&&o.length){const u=o.find(K=>le(l(K))===d);if(u)return u}return{[k.value.value]:s,[k.value.label]:s}},Qi=s=>{var o,d;return(d=(o=Ke.value.get(l(s)))==null?void 0:o.index)!=null?d:-1},je=(s=!1)=>{if(e.multiple)if(e.modelValue.length>0){const o=a.cachedOptions.slice();a.cachedOptions.length=0,a.previousValue=e.modelValue.toString();for(const d of e.modelValue){const u=Ns(d,o);a.cachedOptions.push(u)}}else a.cachedOptions=[],a.previousValue=void 0;else if(I.value){a.previousValue=e.modelValue;const o=S.value,d=o.findIndex(u=>le(l(u))===le(e.modelValue));~d?a.selectedLabel=c(o[d]):(!a.selectedLabel||s)&&(a.selectedLabel=le(e.modelValue))}else a.selectedLabel="",a.previousValue=void 0;ts(),Ve()};return Ee(()=>e.fitInputWidth,()=>{Ve()}),Ee(A,s=>{s?(e.persistent||Ve(),ns("")):(a.inputValue="",a.previousQuery=null,a.isBeforeHide=!0,ws("")),i("visible-change",s)}),Ee(()=>e.modelValue,(s,o)=>{var d;(!s||Fe(s)&&s.length===0||e.multiple&&!Re(s.toString(),a.previousValue)||!e.multiple&&le(s)!==le(a.previousValue))&&je(!0),!Re(s,o)&&e.validateEvent&&((d=p==null?void 0:p.validate)==null||d.call(p,"change").catch(K=>$s()))},{deep:!0}),Ee(()=>e.options,()=>{const s=x.value;(!s||s&&document.activeElement!==s)&&je()},{deep:!0,flush:"post"}),Ee(()=>S.value,()=>(Ve(),U.value&&oe(U.value.resetScrollTop))),qs(()=>{a.isBeforeHide||Ss()}),qs(()=>{const{valueKey:s,options:o}=e,d=new Map;for(const u of o){const K=l(u);let re=K;if(Pe(re)&&(re=ye(K,s)),d.get(re))break;d.set(re,!0)}}),li(()=>{je()}),we(q,Ds),we(ae,As),we(U,os),we(se,os),we(Y,Vs),we(ee,zi),{inputId:E,collapseTagSize:bi,currentPlaceholder:Bi,expanded:A,emptyText:Ae,popupHeight:B,debounce:ke,allOptions:ce,allOptionsValueMap:Ke,filteredOptions:S,iconComponent:V,iconReverse:G,tagStyle:wi,collapseTagStyle:Ii,popperSize:J,dropdownMenuVisible:Vi,hasModelValue:I,shouldShowPlaceholder:Oi,selectDisabled:N,selectSize:Cs,needStatusIcon:m,showClearBtn:W,states:a,isFocused:L,nsSelect:n,nsInput:r,inputRef:x,menuRef:U,tagMenuRef:Y,tooltipRef:_,tagTooltipRef:O,selectRef:q,wrapperRef:se,selectionRef:ae,prefixRef:F,suffixRef:H,collapseItemRef:ee,popperRef:Di,validateState:$,validateIcon:ge,showTagList:Ti,collapseTagList:Mi,debouncedOnInputChange:Bs,deleteTag:Li,getLabel:c,getValue:l,getDisabled:g,getValueKey:le,getIndex:Qi,handleClear:Wi,handleClickOutside:ji,handleDel:Hi,handleEsc:Pi,focus:Ue,blur:$i,handleMenuEnter:Zi,handleResize:Ds,resetSelectionWidth:As,updateTooltip:os,updateTagTooltip:Vs,updateOptions:Ss,toggleMenu:as,scrollTo:rs,onInput:Rs,onKeyboardNavigate:Ms,onKeyboardSelect:Ki,onSelect:Ts,onHover:Gi,handleCompositionStart:C,handleCompositionEnd:z,handleCompositionUpdate:j}},Ia=ve({name:"ElSelectV2",components:{ElSelectMenu:Sa,ElTag:yt,ElTooltip:ft,ElIcon:ti},directives:{ClickOutside:gt},props:Xt,emits:_t,setup(e,{emit:i}){const t=f(()=>{const{modelValue:k,multiple:c}=e,l=c?[]:void 0;return Fe(k)?c?k:l:c?l:k}),n=wa(Je({...Ws(e),modelValue:t}),i),{calculatorRef:r,inputStyle:h}=Ht(),p=mt();Tt(vs,{props:Je({...Ws(e),height:n.popupHeight,modelValue:t}),expanded:n.expanded,tooltipRef:n.tooltipRef,contentId:p,onSelect:n.onSelect,onHover:n.onHover,onKeyboardNavigate:n.onKeyboardNavigate,onKeyboardSelect:n.onKeyboardSelect});const E=f(()=>e.multiple?n.states.cachedOptions.map(k=>k.label):n.states.selectedLabel);return{...n,modelValue:t,selectedLabel:E,calculatorRef:r,inputStyle:h,contentId:p,BORDER_HORIZONTAL_WIDTH:Wt}}});function Oa(e,i,t,n,r,h){const p=ze("el-tag"),E=ze("el-tooltip"),k=ze("el-icon"),c=ze("el-select-menu"),l=It("click-outside");return hs((R(),X("div",{ref:"selectRef",class:M([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:g=>e.states.inputHovering=!0,onMouseleave:g=>e.states.inputHovering=!1},[te(E,{ref:"tooltipRef",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-style":e.popperStyle,"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:g=>e.states.isBeforeHide=!1},{default:Z(()=>{var g,w;return[P("div",{ref:"wrapperRef",class:M([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:he(e.toggleMenu,["prevent"])},[e.$slots.prefix?(R(),X("div",{key:0,ref:"prefixRef",class:M(e.nsSelect.e("prefix"))},[pe(e.$slots,"prefix")],2)):ue("v-if",!0),P("div",{ref:"selectionRef",class:M([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?pe(e.$slots,"tag",{key:0,data:e.states.cachedOptions,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(R(!0),X(_e,null,cs(e.showTagList,y=>(R(),X("div",{key:e.getValueKey(e.getValue(y)),class:M(e.nsSelect.e("selected-item"))},[te(p,{closable:!e.selectDisabled&&!e.getDisabled(y),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Le(e.tagStyle),onClose:D=>e.deleteTag(D,y)},{default:Z(()=>[P("span",{class:M(e.nsSelect.e("tags-text"))},[pe(e.$slots,"label",{index:e.getIndex(y),label:e.getLabel(y),value:e.getValue(y)},()=>[Hs(de(e.getLabel(y)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?(R(),fe(E,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom","popper-class":e.popperClass,"popper-style":e.popperStyle,teleported:e.teleported},{default:Z(()=>[P("div",{ref:"collapseItemRef",class:M(e.nsSelect.e("selected-item"))},[te(p,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,style:Le(e.collapseTagStyle),"disable-transitions":""},{default:Z(()=>[P("span",{class:M(e.nsSelect.e("tags-text"))}," + "+de(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:Z(()=>[P("div",{ref:"tagMenuRef",class:M(e.nsSelect.e("selection"))},[(R(!0),X(_e,null,cs(e.collapseTagList,y=>(R(),X("div",{key:e.getValueKey(e.getValue(y)),class:M(e.nsSelect.e("selected-item"))},[te(p,{class:"in-tooltip",closable:!e.selectDisabled&&!e.getDisabled(y),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:D=>e.deleteTag(D,y)},{default:Z(()=>[P("span",{class:M(e.nsSelect.e("tags-text"))},[pe(e.$slots,"label",{index:e.getIndex(y),label:e.getLabel(y),value:e.getValue(y)},()=>[Hs(de(e.getLabel(y)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported"])):ue("v-if",!0)]):ue("v-if",!0),P("div",{class:M([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[hs(P("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":y=>e.states.inputValue=y,style:Le(e.inputStyle),autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-autocomplete":"none","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:M([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:"combobox","aria-controls":e.contentId,"aria-activedescendant":e.states.hoveringIndex>=0?`${e.contentId}-${e.states.hoveringIndex}`:"",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,onInput:e.onInput,onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onKeydown:[Ne(he(y=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),Ne(he(y=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),Ne(he(e.onKeyboardSelect,["stop","prevent"]),["enter"]),Ne(he(e.handleEsc,["stop","prevent"]),["esc"]),Ne(he(e.handleDel,["stop"]),["delete"])],onClick:he(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","aria-controls","aria-activedescendant","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[At,e.states.inputValue]]),e.filterable?(R(),X("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:M(e.nsSelect.e("input-calculator")),textContent:de(e.states.inputValue)},null,10,["textContent"])):ue("v-if",!0)],2),e.shouldShowPlaceholder?(R(),X("div",{key:1,class:M([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?pe(e.$slots,"label",{key:0,index:(w=(g=e.allOptionsValueMap.get(e.modelValue))==null?void 0:g.index)!=null?w:-1,label:e.currentPlaceholder,value:e.modelValue},()=>[P("span",null,de(e.currentPlaceholder),1)]):(R(),X("span",{key:1},de(e.currentPlaceholder),1))],2)):ue("v-if",!0)],2),P("div",{ref:"suffixRef",class:M(e.nsSelect.e("suffix"))},[e.iconComponent?hs((R(),fe(k,{key:0,class:M([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:Z(()=>[(R(),fe($e(e.iconComponent)))]),_:1},8,["class"])),[[Vt,!e.showClearBtn]]):ue("v-if",!0),e.showClearBtn&&e.clearIcon?(R(),fe(k,{key:1,class:M([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.nsSelect.e("clear")]),onClick:he(e.handleClear,["prevent","stop"])},{default:Z(()=>[(R(),fe($e(e.clearIcon)))]),_:1},8,["class","onClick"])):ue("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(R(),fe(k,{key:2,class:M([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:Z(()=>[(R(),fe($e(e.validateIcon)))]),_:1},8,["class"])):ue("v-if",!0)],2)],10,["onClick"])]}),content:Z(()=>[te(c,{id:e.contentId,ref:"menuRef",data:e.filteredOptions,width:e.popperSize-e.BORDER_HORIZONTAL_WIDTH,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn,"aria-label":e.ariaLabel},Ot({default:Z(g=>[pe(e.$slots,"default",Bt(Dt(g)))]),_:2},[e.$slots.header?{name:"header",fn:Z(()=>[P("div",{class:M(e.nsSelect.be("dropdown","header")),onClick:he(()=>{},["stop"])},[pe(e.$slots,"header")],10,["onClick"])])}:void 0,e.$slots.loading&&e.loading?{name:"loading",fn:Z(()=>[P("div",{class:M(e.nsSelect.be("dropdown","loading"))},[pe(e.$slots,"loading")],2)])}:e.loading||e.filteredOptions.length===0?{name:"empty",fn:Z(()=>[P("div",{class:M(e.nsSelect.be("dropdown","empty"))},[pe(e.$slots,"empty",{},()=>[P("span",null,de(e.emptyText),1)])],2)])}:void 0,e.$slots.footer?{name:"footer",fn:Z(()=>[P("div",{class:M(e.nsSelect.be("dropdown","footer")),onClick:he(()=>{},["stop"])},[pe(e.$slots,"footer")],10,["onClick"])])}:void 0]),1032,["id","data","width","hovering-index","scrollbar-always-on","aria-label"])]),_:3},8,["visible","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[l,e.handleClickOutside,e.popperRef]])}var Ba=ms(Ia,[["render",Oa],["__file","select.vue"]]);const Da=vt(Ba),Aa={class:"select-demo_base"},Va={class:"user-item_name"},Ta={class:"user-item_department"},Ma=["onClick"],Ra={class:"text"},Na=ve({__name:"base",setup(e){const i=Array.from({length:1e5},(E,k)=>({value:Date.now().toString(36)+Math.random().toString(36).substr(2,5)+k.toString(36),label:`部门 ${k+1}`})),t=new Map(i.map(E=>[E.value,E.label])),n=T([{name:"张三",department:i[31].value},{name:"李四",department:i[107].value},{name:"王五",department:i[412].value},{name:"赵六",department:i[212].value},{name:"钱七",department:i[700].value}]),r=T(null),h=Mt("selectRef"),p=E=>{r.value=E};return Ee(()=>r.value,async E=>{var k,c;if(E||E===0){await oe();const l=(c=(k=h.value)==null?void 0:k[0])==null?void 0:c.$el,g=l==null?void 0:l.querySelector("input");g&&(g.focus(),g.click())}},{immediate:!0,deep:!0}),(E,k)=>(R(),X("div",Aa,[(R(!0),X(_e,null,cs(n.value,(c,l)=>(R(),X("div",{key:l,class:"user-item"},[P("span",Va,de(c.name),1),P("div",Ta,[r.value!==l?(R(),X("div",{key:0,onClick:g=>p(l),class:"user-department_text"},[P("span",Ra,de(b(t).get(c.department)),1),te(b(ti),null,{default:Z(()=>[te(b(Js))]),_:1})],8,Ma)):ue("",!0),r.value===l?(R(),fe(b(Da),{key:1,options:b(i),modelValue:c.department,"onUpdate:modelValue":g=>c.department=g,ref_for:!0,ref:"selectRef"},null,8,["options","modelValue","onUpdate:modelValue"])):ue("",!0)])]))),128))]))}}),za=Rt(Na,[["__scopeId","data-v-dac42e36"]]),Ga=JSON.parse('{"title":"VirtualSelect 的一些实践","description":"","frontmatter":{},"headers":[],"relativePath":"components/virtual-select/select.md","filePath":"components/virtual-select/select.md"}'),La={name:"components/virtual-select/select.md"},Ua=ve({...La,setup(e){return(i,t)=>{const n=ze("ClientOnly");return R(),X("div",null,[t[0]||(t[0]=Ks('<h1 id="virtualselect-的一些实践" tabindex="-1">VirtualSelect 的一些实践 <a class="header-anchor" href="#virtualselect-的一些实践" aria-label="Permalink to &quot;VirtualSelect 的一些实践&quot;">​</a></h1><h2 id="简介" tabindex="-1">简介 <a class="header-anchor" href="#简介" aria-label="Permalink to &quot;简介&quot;">​</a></h2><p>你看不到的，都藏在了细节里。</p><h2 id="场景描述" tabindex="-1">场景描述 <a class="header-anchor" href="#场景描述" aria-label="Permalink to &quot;场景描述&quot;">​</a></h2><p>我们简单的假设用户有姓名、部门两个信息字段，其中部门数据来自于系统的部门列表，这数据量将会非常的大，如果直接渲染到页面上，将会导致页面的卡顿甚至内存卡爆。接下来，看我们是如何解决这一问题的。</p><h3 id="方案实践" tabindex="-1">方案实践 <a class="header-anchor" href="#方案实践" aria-label="Permalink to &quot;方案实践&quot;">​</a></h3><hr>',7)),te(n,null,{default:Z(()=>[te(za)]),_:1}),t[1]||(t[1]=Ks(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ts&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ArrowDown } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@element-plus/icons-vue&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ElSelectV2, ElIcon } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;element-plus&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ElSelectV2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ElSelectV2Type } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;element-plus&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { nextTick, ref, useTemplateRef, watch } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ElSelectV2Instance</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> InstanceType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ElSelectV2Type&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 模拟100000条数据的options</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Array.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ length: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 生成唯一的id</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Date.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">36</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">36</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">substr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">36</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    value: id,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`部门 \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 组件创建时应该创建一个用于存储options的map</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> optionsMap</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(options.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">option</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [option.value, option.label]))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> userData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;张三&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    department: options[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">31</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].value</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;李四&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    department: options[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">107</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].value</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;王五&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    department: options[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">412</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].value</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;赵六&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    department: options[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">212</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].value</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;钱七&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    department: options[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">700</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].value</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> activeIndex</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> select</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useTemplateRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ElSelectV2Instance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;selectRef&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  activeIndex.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> index</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">watch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> activeIndex.value, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> nextTick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> root</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> select.value?.[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]?.$el</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> input</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> root?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">querySelector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;input&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HTMLElement</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (input) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      input.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">focus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      input.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, { immediate: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, deep: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;select-demo_base&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> v-for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(item, index) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userData</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">index</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user-item&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">span</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user-item_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{ item.name }}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">span</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user-item_department&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">handleClick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(index)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> v-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">activeIndex </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> index</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user-department_text&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">span</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;text&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{ optionsMap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(item.department) }}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">span</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ElIcon</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ArrowDown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ElIcon</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ElSelectV2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> v-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">activeIndex </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> index</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">options</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">item.department</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;selectRef&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ElSelectV2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...其它代码</span></span></code></pre></div>`,1))])}}});export{Ga as __pageData,Ua as default};
